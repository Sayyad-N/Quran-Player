<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebSim Media Suite</title>
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font/css/materialdesignicons.min.css" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <style>
    /* Base Styles */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #1e3c72, #2a5298);
  color: #fff;
  transition: background 0.5s ease;
}

.container {
  max-width: 1200px;
  margin: 30px auto;
  padding: 20px;
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.5);
  background: rgba(255,255,255,0.05);
}

/* Tabs */
.tabs {
  display: flex;
  margin-bottom: 20px;
  border-bottom: 2px solid #444;
}
.tab {
  background: transparent;
  border: none;
  padding: 12px 24px;
  cursor: pointer;
  font-size: 16px;
  color: #ccc;
  border-bottom: 3px solid transparent;
  transition: all 0.3s ease;
}
.tab:hover {
  color: #fff;
  transform: scale(1.05);
}
.tab.active {
  color: #fff;
  border-bottom: 3px solid #3498db;
}

/* Tab Content */
.tab-content {
  display: none;
  animation: fadeIn 0.5s ease-in-out;
}
.tab-content.active {
  display: block;
}

/* Audio Player Styles */
.track-info {
  text-align: center;
  margin-bottom: 10px;
  animation: slideIn 1s ease forwards;
}
.track-info .track-title {
  font-size: 24px;
  margin: 0;
}
.track-info .track-artist {
  font-size: 16px;
  color: #b0c4de;
  margin: 0;
}
.audio-details {
  background: rgba(0, 0, 0, 0.4);
  padding: 15px;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  font-size: 14px;
}
.audio-details h4 {
  margin: 0 0 10px 0;
  font-size: 18px;
  border-bottom: 1px solid #444;
  padding-bottom: 5px;
}
.audio-details p {
  margin: 5px 0;
  line-height: 1.4;
}
.audio-upload {
  text-align: center;
  margin-bottom: 20px;
}
#audio-upload-btn {
  background: #2980b9;
  border: none;
  padding: 10px 20px;
  border-radius: 4px;
  cursor: pointer;
  color: #fff;
  font-weight: bold;
  transition: background 0.3s ease;
}
#audio-upload-btn:hover {
  background: #1c6691;
}

/* Playlist Styles */
.playlist-container {
  margin-top: 20px;
  background: rgba(0,0,0,0.3);
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.4);
}
.playlist-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #444;
  padding-bottom: 10px;
}
.playlist-items {
  margin-top: 10px;
}

/* Player Controls */
.player-controls {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin-bottom: 20px;
}
.transport-controls {
  text-align: center;
}
.transport-controls button {
  background: transparent;
  border: none;
  color: #fff;
  font-size: 26px;
  cursor: pointer;
  margin: 0 10px;
  transition: transform 0.3s ease, color 0.3s ease;
}
.transport-controls button:hover {
  transform: scale(1.15);
  color: #3498db;
}
.progress-container {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 14px;
}
.progress-container input[type="range"] {
  flex: 1;
  -webkit-appearance: none;
  background: #444;
  height: 5px;
  border-radius: 5px;
  outline: none;
  transition: background 0.3s ease;
}
.progress-container input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: #3498db;
  cursor: pointer;
  transition: background 0.3s ease;
}
.progress-container input[type="range"]:hover::-webkit-slider-thumb {
  background: #2980b9;
}
.advanced-controls {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 15px;
}
.advanced-controls .control-label {
  font-size: 14px;
  margin-right: 5px;
  color: #ddd;
}
.auto-next-label {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 14px;
  color: #fff;
}

/* File Manager Styles */
#file-manager {
  background: #252525;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.5);
  animation: fadeIn 1s ease;
}
.file-manager-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  border-bottom: 1px solid #444;
  padding-bottom: 10px;
}
.file-manager-controls {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
  margin-bottom: 15px;
}
.folder-path {
  margin-bottom: 10px;
  font-style: italic;
}
.folder-path button {
  background: #3498db;
  border: none;
  padding: 5px 10px;
  border-radius: 4px;
  cursor: pointer;
  margin-right: 10px;
  transition: background 0.3s ease;
}
.folder-path button:hover {
  background: #2980b9;
}
.file-list {
  margin-top: 15px;
  background: #1e1e1e;
  padding: 10px;
  border-radius: 6px;
  max-height: 300px;
  overflow-y: auto;
}
.file-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px;
  border-bottom: 1px solid #444;
  transition: background 0.3s ease;
}
.file-item:hover {
  background: rgba(255, 255, 255, 0.1);
}
.file-item:last-child {
  border-bottom: none;
}
.file-item button {
  background: transparent;
  border: none;
  color: #3498db;
  cursor: pointer;
  font-size: 16px;
  margin-left: 8px;
  transition: color 0.3s ease;
}
.file-item button:hover {
  color: #2980b9;
}

/* Button Styles */
button {
  background: #3498db;
  border: none;
  padding: 10px 15px;
  border-radius: 4px;
  cursor: pointer;
  color: #fff;
  font-weight: bold;
  transition: background 0.3s ease, transform 0.3s ease;
}
button:hover {
  background: #2980b9;
  transform: scale(1.02);
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes slideIn {
  from { transform: translateY(-20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
  </style>
</head>
<body>
  <div class="container">
    <!-- Tab Navigation -->
    <div class="tabs">
      <button class="tab active" data-target="audio-player">
        <i class="mdi mdi-music"></i> Audio Player
      </button>
      <button class="tab" data-target="file-manager">
        <i class="mdi mdi-folder-multiple"></i> File Manager
      </button>
      <!-- Network tab removed as per latest instruction -->
    </div>

    <!-- Audio Player Section -->
    <div id="audio-player" class="tab-content active">
      <!-- Track Info with Animation -->
      <div class="track-info">
        <h2 class="track-title">No Audio Selected</h2>
        <p class="track-artist">N/A</p>
      </div>
      <!-- Audio Details Box (Empty until audio is chosen) -->
      <div class="audio-details">
        <h4>Audio Details</h4>
        <p>Select an audio file from your library to view details.</p>
      </div>
      <!-- Upload Audio Control -->
      <div class="audio-upload">
        <button id="upload-audio-btn"><i class="mdi mdi-upload"></i> Upload Audio</button>
        <input type="file" id="audio-upload-input" accept="audio/*" style="display:none">
      </div>
      <div class="playlist-container">
        <div class="playlist-header">
          <h3>Smart Playlist</h3>
        </div>
        <div class="playlist-items">
          <!-- Dynamically generated playlist items will appear here -->
        </div>
      </div>

      <div class="player-controls">
        <div class="transport-controls">
          <button class="shuffle"><i class="mdi mdi-shuffle-variant"></i></button>
          <button class="prev"><i class="mdi mdi-skip-previous"></i></button>
          <button class="play-pause"><i class="mdi mdi-play"></i></button>
          <button class="next"><i class="mdi mdi-skip-next"></i></button>
          <button class="repeat"><i class="mdi mdi-repeat"></i></button>
        </div>
        
        <div class="progress-container">
          <span class="time-current">0:00</span>
          <input type="range" class="progress" min="0" max="100" value="0">
          <span class="time-total">0:00</span>
        </div>

        <div class="advanced-controls">
          <label class="control-label">Speed:</label>
          <input type="range" class="speed" min="0.5" max="2" step="0.1" value="1">
          <label class="control-label">Crossfade:</label>
          <input type="range" class="crossfade" min="0" max="5" value="0">
          <label class="auto-next-label">
            <input type="checkbox" class="auto-next"> Auto Next
          </label>
        </div>
      </div>
    </div>

    <!-- File Manager Section -->
    <div id="file-manager" class="tab-content">
      <div class="file-manager-header">
        <h3>Full Device File Manager</h3>
      </div>
      <div class="file-manager-controls">
        <button class="access-device-btn"><i class="mdi mdi-folder"></i> Access Device Storage</button>
      </div>
      <!-- Folder Path Navigation -->
      <div id="folder-path" class="folder-path">
        <!-- Back button will be injected here when inside a folder -->
      </div>
      <!-- Dynamic file list with full device files -->
      <div class="file-list">
        <!-- File items will be dynamically generated -->
      </div>
    </div>

  </div>
  <script >document.addEventListener('DOMContentLoaded', function() {
  // Tab switching logic
  const tabs = document.querySelectorAll('.tab');
  const tabContents = document.querySelectorAll('.tab-content');
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tabContents.forEach(content => content.classList.remove('active'));
      tab.classList.add('active');
      const target = tab.getAttribute('data-target');
      document.getElementById(target).classList.add('active');
    });
  });

  // AUDIO PLAYER SETUP
  let isPlaying = false;
  const playPauseButton = document.querySelector('.play-pause');
  const playPauseIcon = playPauseButton.querySelector('i');
  const timeCurrent = document.querySelector('.time-current');
  const timeTotal = document.querySelector('.time-total');
  const progressInput = document.querySelector('.progress');
  const autoNextCheckbox = document.querySelector('.auto-next');
  const trackTitle = document.querySelector('.track-title');
  const trackArtist = document.querySelector('.track-artist');
  const audioDetails = document.querySelector('.audio-details');
  const uploadAudioBtn = document.getElementById('upload-audio-btn');
  const audioUploadInput = document.getElementById('audio-upload-input');

  const audio = new Audio();
  
  function formatTime(seconds) {
    const mins = Math.floor(seconds / 60) || 0;
    const secs = Math.floor(seconds % 60) || 0;
    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
  }
  
  audio.addEventListener('loadedmetadata', () => {
    if (audio.duration) {
      timeTotal.textContent = formatTime(audio.duration);
      trackTitle.textContent = "Selected Audio";
      trackArtist.textContent = "Unknown Source";
      audioDetails.innerHTML = `
        <h4>Audio File Details</h4>
        <p><strong>Format:</strong> Unknown</p>
        <p><strong>Sample Rate:</strong> Unknown</p>
        <p><strong>Bitrate:</strong> Unknown</p>
        <p><strong>Duration:</strong> ${formatTime(audio.duration)}</p>
        <p><strong>Channels:</strong> Unknown</p>
        <p><strong>File Size:</strong> Unknown</p>
      `;
    }
  });
  
  audio.addEventListener('timeupdate', () => {
    if (audio.duration) {
      timeCurrent.textContent = formatTime(audio.currentTime);
      const progress = (audio.currentTime / audio.duration) * 100;
      progressInput.value = progress;
    }
  });
  
  audio.addEventListener('ended', () => {
    isPlaying = false;
    playPauseIcon.classList.replace('mdi-pause', 'mdi-play');
    if (autoNextCheckbox && autoNextCheckbox.checked) {
      alert('Auto next audio triggered.');
      // Logic for auto next audio goes here...
    }
  });
  
  playPauseButton.addEventListener('click', () => {
    if (!audio.src) {
      alert('No audio selected. Please choose an audio file from your library.');
      return;
    }
    if (isPlaying) {
      audio.pause();
      playPauseIcon.classList.replace('mdi-pause', 'mdi-play');
    } else {
      audio.play();
      playPauseIcon.classList.replace('mdi-play', 'mdi-pause');
    }
    isPlaying = !isPlaying;
  });
  
  progressInput.addEventListener('input', (e) => {
    if (audio.duration) {
      const seekTo = e.target.value / 100;
      audio.currentTime = audio.duration * seekTo;
    }
  });
  
  document.querySelector('.speed').addEventListener('input', (e) => {
    audio.playbackRate = parseFloat(e.target.value);
  });
  
  document.querySelector('.crossfade').addEventListener('input', (e) => {
    console.log('Crossfade set to:', e.target.value);
  });
  
  // Upload Audio Functionality
  uploadAudioBtn.addEventListener('click', () => {
    audioUploadInput.click();
  });
  
  audioUploadInput.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (file) {
      const objectURL = URL.createObjectURL(file);
      audio.src = objectURL;
      trackTitle.textContent = file.name;
      trackArtist.textContent = "Local File";
      audio.load();
    }
  });
  
  // FILE MANAGER: Real Device Storage Access Simulation
  // Simulated full device storage structure with folders and files
  let fileSystem = [
    { id: 1, name: "Documents", type: "folder", children: [
      { id: 11, name: "Report.docx", size: "45 KB", type: "file" },
      { id: 12, name: "Invoice.pdf", size: "150 KB", type: "file" }
    ] },
    { id: 2, name: "Photos", type: "folder", children: [
      { id: 21, name: "Vacation.jpg", size: "2 MB", type: "file" },
      { id: 22, name: "Family.png", size: "1.5 MB", type: "file" }
    ] },
    { id: 3, name: "Videos", type: "folder", children: [
      { id: 31, name: "Birthday.mp4", size: "15 MB", type: "file" }
    ] }
  ];
  let currentFolder = fileSystem;
  let folderStack = [];
  const fileListEl = document.querySelector('.file-list');
  const folderPathEl = document.getElementById('folder-path');
  
  function renderFolderPath() {
    folderPathEl.innerHTML = "";
    if (folderStack.length > 0) {
      const backButton = document.createElement('button');
      backButton.textContent = "Back";
      backButton.addEventListener('click', () => {
        currentFolder = folderStack.pop();
        renderFileList();
        renderFolderPath();
      });
      folderPathEl.appendChild(backButton);
      const currentFolderName = currentFolder.folderName || "Current Folder";
      const pathDisplay = document.createElement('span');
      pathDisplay.textContent = " / " + currentFolderName;
      folderPathEl.appendChild(pathDisplay);
    } else {
      folderPathEl.textContent = "Root Storage";
    }
  }
  
  function renderFileList() {
    fileListEl.innerHTML = "";
    currentFolder.forEach(item => {
      const fileItem = document.createElement('div');
      fileItem.classList.add('file-item');
      fileItem.dataset.fileId = item.id;
      let buttons = "";
      if (item.type === 'folder') {
        buttons = `<button class="open-btn" title="Open Folder"><i class="mdi mdi-folder"></i></button>`;
      } else {
        buttons = `<button class="view-btn" title="View File"><i class="mdi mdi-eye"></i></button>
                   <button class="download-btn" title="Download File"><i class="mdi mdi-download"></i></button>
                   <button class="edit-btn" title="Edit File Name"><i class="mdi mdi-pencil"></i></button>`;
      }
      fileItem.innerHTML = `
        <span class="file-name">${item.name}</span>
        <span class="file-size">${item.size || ''}</span>
        ${buttons}
      `;
      if(item.type === 'folder'){
        fileItem.addEventListener('dblclick', () => {
          folderStack.push(currentFolder);
          currentFolder = item.children || [];
          currentFolder.folderName = item.name;
          renderFileList();
          renderFolderPath();
        });
        fileItem.querySelector('.open-btn').addEventListener('click', () => {
          folderStack.push(currentFolder);
          currentFolder = item.children || [];
          currentFolder.folderName = item.name;
          renderFileList();
          renderFolderPath();
        });
      } else {
        fileItem.querySelector('.view-btn').addEventListener('click', () => {
          alert(`Viewing "${item.name}" (simulated content).\nContent: Sample content of ${item.name}`);
        });
        fileItem.querySelector('.download-btn').addEventListener('click', () => {
          const content = `This is the content of ${item.name}.`;
          const blob = new Blob([content], { type: 'text/plain' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = item.name;
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        });
        fileItem.querySelector('.edit-btn').addEventListener('click', () => {
          const newName = prompt("Enter new name for the file:", item.name);
          if(newName && newName.trim() !== "") {
            item.name = newName.trim();
            renderFileList();
          }
        });
      }
      fileListEl.appendChild(fileItem);
    });
  }
  
  // Access full device storage when button is clicked
  document.querySelector('.access-device-btn').addEventListener('click', () => {
    alert('Accessing full device storage...');
    renderFileList();
    renderFolderPath();
  });
});</script>
  
</body>
</html>
